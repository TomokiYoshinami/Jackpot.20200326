#-------------------------------------
#Transform
#-------------------------------------
#as.POSIXct("2020-05-01",tz="UTC")
data4<-transform(data4
#,Race.RecKubun=as.factor(Race.RecKubun)
#,Race.DataKubun=as.factor(Race.DataKubun)
#,Race.MakeDate=as.factor(Race.MakeDate)
#,Race.RaceDate=as.factor(Race.RaceDate)
,Race.JyoCd=as.factor(Race.JyoCd)
#,Race.Kaiji=as.integer(Race.Kaiji)
#,Race.Nichiji=as.integer(Race.Nichiji)
#,Race.RaceNum=as.integer(Race.RaceNum)
,Race.RaceId=as.factor(Race.RaceId)
,Race.GradeCd=as.factor(Race.GradeCd)
,Race.SyubetuCd=as.factor(Race.SyubetuCd)
,Race.KigoCd=as.factor(Race.KigoCd)
,Race.JyuryoCd=as.factor(Race.JyuryoCd)
,Race.Kyori=as.numeric(Race.Kyori)
,Race.DistanceTypeCd=as.factor(Race.DistanceTypeCd)
,Race.DistanceType2Cd=as.factor(Race.DistanceType2Cd)
,Race.TrackCd=as.factor(Race.TrackCd)
,Race.CourseKubunCd=as.factor(Race.CourseKubunCd)
,Race.TorokuTosu=as.numeric(Race.TorokuTosu)
,Race.SyussoTosu=as.numeric(Race.SyussoTosu)
,Race.NyusenTosu=as.numeric(Race.NyusenTosu)
,Race.TenkoCd=as.factor(Race.TenkoCd)
,Race.TrackTypeCd=as.factor(Race.TrackTypeCd)
,Race.CourseTypeCd=as.factor(Race.CourseTypeCd)
,Race.TrackConditionCd=as.factor(Race.TrackConditionCd)
,Race.IsJraRace=as.factor(Race.IsJraRace)
,Race.IsUpdatedRace=as.factor(Race.IsUpdatedRace)
,Race.IsUpdatedRaceHorse=as.factor(Race.IsUpdatedRaceHorse)
,Race.IsUpdatedDataMining=as.factor(Race.IsUpdatedDataMining)
,Race.IsUpdatedDataMiningTaisen=as.factor(Race.IsUpdatedDataMiningTaisen)
,Race.IsUpdatedRaceHorseHistory=as.factor(Race.IsUpdatedRaceHorseHistory)
,Race.IsPredictedRace=as.factor(Race.IsPredictedRace)
,Race.IsConfirmedRace=as.factor(Race.IsConfirmedRace)
,Race.IsAnalyzeNormalPastAndFuture=as.factor(Race.IsAnalyzeNormalPastAndFuture)
,Race.IsAnalyzeNormalPast=as.factor(Race.IsAnalyzeNormalPast)
,Race.IsAnalyzeNormalFuture=as.factor(Race.IsAnalyzeNormalFuture)
,Race.IsAnalyzeFullPastAndFuture=as.factor(Race.IsAnalyzeFullPastAndFuture)
,Race.IsAnalyzeFullPast=as.factor(Race.IsAnalyzeFullPast)
,Race.IsAnalyzeFullFuture=as.factor(Race.IsAnalyzeFullFuture)
,Race.JyokenCd=as.factor(Race.JyokenCd)
,Race.JyoType1Cd=as.factor(Race.JyoType1Cd)
,Race.RaceType0Cd=as.factor(Race.RaceType0Cd)
,Race.RaceType1Cd=as.factor(Race.RaceType1Cd)
#,Race.RaceType2Cd=as.factor(Race.RaceType2Cd)
#,Race.RaceType3Cd=as.factor(Race.RaceType3Cd)
#,Race.RaceType4Cd=as.factor(Race.RaceType4Cd)

#,RaceHorse.RecKubun=as.factor(RaceHorse.RecKubun)
#,RaceHorse.DataKubun=as.factor(RaceHorse.DataKubun)
#,RaceHorse.MakeDate=as.factor(RaceHorse.MakeDate)
,RaceHorse.RaceDate=as.factor(RaceHorse.RaceDate)
,RaceHorse.JyoCd=as.factor(RaceHorse.JyoCd)
#,RaceHorse.Kaiji=as.integer(RaceHorse.Kaiji)
#,RaceHorse.Nichiji=as.integer(RaceHorse.Nichiji)
,RaceHorse.RaceNum=as.integer(RaceHorse.RaceNum)
,RaceHorse.RaceId=as.factor(RaceHorse.RaceId)
,RaceHorse.KettoNum=as.factor(RaceHorse.KettoNum)
,RaceHorse.Wakuban=as.integer(RaceHorse.Wakuban)
,RaceHorse.Umaban=as.integer(RaceHorse.Umaban)
#,RaceHorse.Bamei=as.factor(RaceHorse.Bamei)
,RaceHorse.UmaKigoCd=as.factor(RaceHorse.UmaKigoCd)
,RaceHorse.SexCd=as.factor(RaceHorse.SexCd)
#,RaceHorse.IsSex1=as.factor(RaceHorse.IsSex1)
#,RaceHorse.IsSex2=as.factor(RaceHorse.IsSex2)
#,RaceHorse.IsSex3=as.factor(RaceHorse.IsSex3)
,RaceHorse.HinsyuCd=as.factor(RaceHorse.HinsyuCd)
,RaceHorse.KeiroCd=as.factor(RaceHorse.KeiroCd)
,RaceHorse.Barei=as.factor(RaceHorse.Barei)
,RaceHorse.TozaiCd=as.factor(RaceHorse.TozaiCd)
,RaceHorse.ChokyosiCode=as.factor(RaceHorse.ChokyosiCode)
,RaceHorse.BanusiCode=as.factor(RaceHorse.BanusiCode)
,RaceHorse.Futan=as.numeric(RaceHorse.Futan)
#,RaceHorse.BlinkerCd=as.factor(RaceHorse.BlinkerCd)
#,RaceHorse.IsBlinker=as.factor(RaceHorse.IsBlinker)
,RaceHorse.KisyuCode=as.factor(RaceHorse.KisyuCode)
,RaceHorse.MinaraiCd=as.factor(RaceHorse.MinaraiCd)
#,RaceHorse.IsMinarai0=as.factor(RaceHorse.IsMinarai0)
#,RaceHorse.IsMinarai1=as.factor(RaceHorse.IsMinarai1)
#,RaceHorse.IsMinarai2=as.factor(RaceHorse.IsMinarai2)
#,RaceHorse.IsMinarai3=as.factor(RaceHorse.IsMinarai3)
#,RaceHorse.IsMinarai4=as.factor(RaceHorse.IsMinarai4)
#,RaceHorse.IsMinarai9=as.factor(RaceHorse.IsMinarai9)
,RaceHorse.Bataijyu=as.numeric(RaceHorse.Bataijyu)
,RaceHorse.ZogenSa=as.numeric(RaceHorse.ZogenSa)
,RaceHorse.NyusenJyuni=as.numeric(RaceHorse.NyusenJyuni)
,RaceHorse.KakuteiJyuni=as.numeric(RaceHorse.KakuteiJyuni)
,RaceHorse.Time=as.numeric(RaceHorse.Time)
#,RaceHorse.Odds=as.numeric(RaceHorse.Odds)
,RaceHorse.Ninki=as.numeric(RaceHorse.Ninki)
,RaceHorse.RunTypeCd=as.factor(RaceHorse.RunTypeCd)
,RaceHorse.RunType=as.numeric(RaceHorse.RunType)
,RaceHorse.RunNum=as.numeric(RaceHorse.RunNum)
,RaceHorse.RunNumDesc=as.numeric(RaceHorse.RunNumDesc)
,RaceHorse.IsRun=as.factor(RaceHorse.IsRun)
,RaceHorse.Lifetime=as.numeric(RaceHorse.Lifetime)
,RaceHorse.FutanRatio=as.numeric(RaceHorse.FutanRatio)
#,RaceHorse.IsHit1=as.factor(RaceHorse.IsHit1)
#,RaceHorse.IsHit2=as.factor(RaceHorse.IsHit2)
#,RaceHorse.IsHit3=as.factor(RaceHorse.IsHit3)
#,RaceHorse.IsHit4=as.factor(RaceHorse.IsHit4)
#,RaceHorse.IsHit5=as.factor(RaceHorse.IsHit5)
#,RaceHorse.IsHit6=as.factor(RaceHorse.IsHit6)
#,RaceHorse.PrevRaceId=as.factor(RaceHorse.PrevRaceId)
#,RaceHorse.PrevRunNum=as.factor(RaceHorse.PrevRunNum)
#,RaceHorse.PrevJyokenCd=as.factor(RaceHorse.PrevJyokenCd)
#,RaceHorse.PrevJyoType1Cd=as.factor(RaceHorse.PrevJyoType1Cd)
#,RaceHorse.PrevRaceType0Cd=as.factor(RaceHorse.PrevRaceType0Cd)
#,RaceHorse.PrevRaceType1Cd=as.factor(RaceHorse.PrevRaceType1Cd)
#,RaceHorse.PrevRaceType2Cd=as.factor(RaceHorse.PrevRaceType2Cd)
#,RaceHorse.PrevRaceType3Cd=as.factor(RaceHorse.PrevRaceType3Cd)
#,RaceHorse.PrevRaceType4Cd=as.factor(RaceHorse.PrevRaceType4Cd)
#,RaceHorse.IsValidRaceHorse=as.factor(RaceHorse.IsValidRaceHorse)
,RaceHorse.Speed=as.numeric(RaceHorse.Speed)
,RaceHorse.LastSpeed=as.numeric(RaceHorse.LastSpeed)
#,RaceHorse.IsValidTimeSdv=as.factor(RaceHorse.IsValidTimeSdv)
#,RaceHorse.TimeSdv=as.numeric(RaceHorse.TimeSdv)
,RaceHorse.TimeDv=as.numeric(RaceHorse.TimeDv)
,RaceHorse.TimeRank=as.numeric(RaceHorse.TimeRank)
#,RaceHorse.IsValidTimeSdvByRace=as.factor(RaceHorse.IsValidTimeSdvByRace)
#,RaceHorse.TimeSdvByRace=as.numeric(RaceHorse.TimeSdvByRace)
,RaceHorse.TimeDvByRace=as.numeric(RaceHorse.TimeDvByRace)
,RaceHorse.TimeRankByRace=as.numeric(RaceHorse.TimeRankByRace)
#,RaceHorse.IsValidTimeSdvByJyoType1=as.factor(RaceHorse.IsValidTimeSdvByJyoType1)
#,RaceHorse.TimeSdvByJyoType1=as.numeric(RaceHorse.TimeSdvByJyoType1)
,RaceHorse.TimeDvByJyoType1=as.numeric(RaceHorse.TimeDvByJyoType1)
,RaceHorse.TimeRankByJyoType1=as.numeric(RaceHorse.TimeRankByJyoType1)
#,RaceHorse.IsValidTimeSdvByRaceType0=as.factor(RaceHorse.IsValidTimeSdvByRaceType0)
#,RaceHorse.TimeSdvByRaceType0=as.numeric(RaceHorse.TimeSdvByRaceType0)
,RaceHorse.TimeDvByRaceType0=as.numeric(RaceHorse.TimeDvByRaceType0)
,RaceHorse.TimeRankByRaceType0=as.numeric(RaceHorse.TimeRankByRaceType0)
#,RaceHorse.IsValidTimeSdvByRaceType1=as.factor(RaceHorse.IsValidTimeSdvByRaceType1)
#,RaceHorse.TimeSdvByRaceType1=as.numeric(RaceHorse.TimeSdvByRaceType1)
,RaceHorse.TimeDvByRaceType1=as.numeric(RaceHorse.TimeDvByRaceType1)
,RaceHorse.TimeRankByRaceType1=as.numeric(RaceHorse.TimeRankByRaceType1)
#,RaceHorse.IsValidLastTimeSdv=as.factor(RaceHorse.IsValidLastTimeSdv)
#,RaceHorse.LastTimeSdv=as.numeric(RaceHorse.LastTimeSdv)
,RaceHorse.LastTimeDv=as.numeric(RaceHorse.LastTimeDv)
,RaceHorse.LastTimeRank=as.numeric(RaceHorse.LastTimeRank)
#,RaceHorse.IsValidLastTimeSdvByRace=as.factor(RaceHorse.IsValidLastTimeSdvByRace)
#,RaceHorse.LastTimeSdvByRace=as.numeric(RaceHorse.LastTimeSdvByRace)
,RaceHorse.LastTimeDvByRace=as.numeric(RaceHorse.LastTimeDvByRace)
,RaceHorse.LastTimeRankByRace=as.numeric(RaceHorse.LastTimeRankByRace)
#,RaceHorse.IsValidLastTimeSdvByJyoType1=as.factor(RaceHorse.IsValidLastTimeSdvByJyoType1)
#,RaceHorse.LastTimeSdvByJyoType1=as.numeric(RaceHorse.LastTimeSdvByJyoType1)
,RaceHorse.LastTimeDvByJyoType1=as.numeric(RaceHorse.LastTimeDvByJyoType1)
,RaceHorse.LastTimeRankByJyoType1=as.numeric(RaceHorse.LastTimeRankByJyoType1)
#,RaceHorse.IsValidLastTimeSdvByRaceType0=as.factor(RaceHorse.IsValidLastTimeSdvByRaceType0)
#,RaceHorse.LastTimeSdvByRaceType0=as.numeric(RaceHorse.LastTimeSdvByRaceType0)
,RaceHorse.LastTimeDvByRaceType0=as.numeric(RaceHorse.LastTimeDvByRaceType0)
,RaceHorse.LastTimeRankByRaceType0=as.numeric(RaceHorse.LastTimeRankByRaceType0)
#,RaceHorse.IsValidLastTimeSdvByRaceType1=as.factor(RaceHorse.IsValidLastTimeSdvByRaceType1)
#,RaceHorse.LastTimeSdvByRaceType1=as.numeric(RaceHorse.LastTimeSdvByRaceType1)
,RaceHorse.LastTimeDvByRaceType1=as.numeric(RaceHorse.LastTimeDvByRaceType1)
,RaceHorse.LastTimeRankByRaceType1=as.numeric(RaceHorse.LastTimeRankByRaceType1)
#,RaceHorse.IsValidBareiSdv=as.factor(RaceHorse.IsValidBareiSdv)
#,RaceHorse.BareiSdv=as.numeric(RaceHorse.BareiSdv)
,RaceHorse.BareiDv=as.numeric(RaceHorse.BareiDv)
#,RaceHorse.IsValidBataijyuSdv=as.factor(RaceHorse.IsValidBataijyuSdv)
#,RaceHorse.BataijyuSdv=as.numeric(RaceHorse.BataijyuSdv)
,RaceHorse.BataijyuDv=as.numeric(RaceHorse.BataijyuDv)
#,RaceHorse.IsValidFutanSdv=as.factor(RaceHorse.IsValidFutanSdv)
#,RaceHorse.FutanSdv=as.numeric(RaceHorse.FutanSdv)
,RaceHorse.FutanDv=as.numeric(RaceHorse.FutanDv)
#,RaceHorse.IsValidLifetimeSdv=as.factor(RaceHorse.IsValidLifetimeSdv)
#,RaceHorse.LifetimeSdv=as.numeric(RaceHorse.LifetimeSdv)
,RaceHorse.LifetimeDv=as.numeric(RaceHorse.LifetimeDv)
#,RaceHorse.IsValidFutanRatioSdv=as.factor(RaceHorse.IsValidFutanRatioSdv)
#,RaceHorse.FutanRatioSdv=as.numeric(RaceHorse.FutanRatioSdv)
,RaceHorse.FutanRatioDv=as.numeric(RaceHorse.FutanRatioDv)
#,RaceHorse.IsValidSpeedSdv=as.factor(RaceHorse.IsValidSpeedSdv)
#,RaceHorse.SpeedSdv=as.numeric(RaceHorse.SpeedSdv)
,RaceHorse.SpeedDv=as.numeric(RaceHorse.SpeedDv)
#,RaceHorse.SpeedRank=as.numeric(RaceHorse.SpeedRank)
#,RaceHorse.IsValidSpeedSdvByRace=as.factor(RaceHorse.IsValidSpeedSdvByRace)
#,RaceHorse.SpeedSdvByRace=as.numeric(RaceHorse.SpeedSdvByRace)
,RaceHorse.SpeedDvByRace=as.numeric(RaceHorse.SpeedDvByRace)
#,RaceHorse.SpeedRankByRace=as.numeric(RaceHorse.SpeedRankByRace)
#,RaceHorse.IsValidSpeedSdvByJyoType1=as.factor(RaceHorse.IsValidSpeedSdvByJyoType1)
#,RaceHorse.SpeedSdvByJyoType1=as.numeric(RaceHorse.SpeedSdvByJyoType1)
,RaceHorse.SpeedDvByJyoType1=as.numeric(RaceHorse.SpeedDvByJyoType1)
#,RaceHorse.SpeedRankByJyoType1=as.numeric(RaceHorse.SpeedRankByJyoType1)
#,RaceHorse.IsValidSpeedSdvByRaceType0=as.factor(RaceHorse.IsValidSpeedSdvByRaceType0)
#,RaceHorse.SpeedSdvByRaceType0=as.numeric(RaceHorse.SpeedSdvByRaceType0)
,RaceHorse.SpeedDvByRaceType0=as.numeric(RaceHorse.SpeedDvByRaceType0)
#,RaceHorse.SpeedRankByRaceType0=as.numeric(RaceHorse.SpeedRankByRaceType0)
#,RaceHorse.IsValidSpeedSdvByRaceType1=as.factor(RaceHorse.IsValidSpeedSdvByRaceType1)
#,RaceHorse.SpeedSdvByRaceType1=as.numeric(RaceHorse.SpeedSdvByRaceType1)
,RaceHorse.SpeedDvByRaceType1=as.numeric(RaceHorse.SpeedDvByRaceType1)
#,RaceHorse.SpeedRankByRaceType1=as.numeric(RaceHorse.SpeedRankByRaceType1)
#,RaceHorse.IsValidLastSpeedSdv=as.factor(RaceHorse.IsValidLastSpeedSdv)
#,RaceHorse.LastSpeedSdv=as.numeric(RaceHorse.LastSpeedSdv)
,RaceHorse.LastSpeedDv=as.numeric(RaceHorse.LastSpeedDv)
#,RaceHorse.LastSpeedRank=as.numeric(RaceHorse.LastSpeedRank)
#,RaceHorse.IsValidLastSpeedSdvByRace=as.factor(RaceHorse.IsValidLastSpeedSdvByRace)
#,RaceHorse.LastSpeedSdvByRace=as.numeric(RaceHorse.LastSpeedSdvByRace)
,RaceHorse.LastSpeedDvByRace=as.numeric(RaceHorse.LastSpeedDvByRace)
#,RaceHorse.LastSpeedRankByRace=as.numeric(RaceHorse.LastSpeedRankByRace)
#,RaceHorse.IsValidLastSpeedSdvByJyoType1=as.factor(RaceHorse.IsValidLastSpeedSdvByJyoType1)
#,RaceHorse.LastSpeedSdvByJyoType1=as.numeric(RaceHorse.LastSpeedSdvByJyoType1)
,RaceHorse.LastSpeedDvByJyoType1=as.numeric(RaceHorse.LastSpeedDvByJyoType1)
#,RaceHorse.LastSpeedRankByJyoType1=as.numeric(RaceHorse.LastSpeedRankByJyoType1)
#,RaceHorse.IsValidLastSpeedSdvByRaceType0=as.factor(RaceHorse.IsValidLastSpeedSdvByRaceType0)
#,RaceHorse.LastSpeedSdvByRaceType0=as.numeric(RaceHorse.LastSpeedSdvByRaceType0)
,RaceHorse.LastSpeedDvByRaceType0=as.numeric(RaceHorse.LastSpeedDvByRaceType0)
#,RaceHorse.LastSpeedRankByRaceType0=as.numeric(RaceHorse.LastSpeedRankByRaceType0)
#,RaceHorse.IsValidLastSpeedSdvByRaceType1=as.factor(RaceHorse.IsValidLastSpeedSdvByRaceType1)
#,RaceHorse.LastSpeedSdvByRaceType1=as.numeric(RaceHorse.LastSpeedSdvByRaceType1)
,RaceHorse.LastSpeedDvByRaceType1=as.numeric(RaceHorse.LastSpeedDvByRaceType1)
#,RaceHorse.LastSpeedRankByRaceType1=as.numeric(RaceHorse.LastSpeedRankByRaceType1)
,RaceHorse.OddsLog=as.numeric(RaceHorse.OddsLog)
,RaceHorse.OddsRatio=as.numeric(RaceHorse.OddsRatio)
,RaceHorse.OddsLogit=as.numeric(RaceHorse.OddsLogit)
,RaceHorse.ApprovalRate=as.numeric(RaceHorse.ApprovalRate)
,RaceHorse.ApprovalRateLog=as.numeric(RaceHorse.ApprovalRateLog)
,RaceHorse.IsHitA=as.factor(RaceHorse.IsHitA)
,RaceHorse.IsHitB=as.factor(RaceHorse.IsHitB)
,RaceHorse.IsHitC=as.factor(RaceHorse.IsHitC)
,RaceHorse.IsHitD=as.factor(RaceHorse.IsHitD)
,RaceHorse.IsHitE=as.factor(RaceHorse.IsHitE)
,RaceHorse.LifetimeLog=as.numeric(RaceHorse.LifetimeLog)

# ,Horse.RunCount=as.numeric(Horse.RunCount)
# ,Horse.HitCountA=as.numeric(Horse.HitCountA)
# ,Horse.HitRateA=as.numeric(Horse.HitRateA)
# ,Horse.TimeDvAvg=as.numeric(Horse.TimeDvAvg)
# ,Horse.LastTimeDvAvg=as.numeric(Horse.LastTimeDvAvg)
# ,Horse.SpeedDvAvg=as.numeric(Horse.SpeedDvAvg)
# ,Horse.LastSpeedDvAvg=as.numeric(Horse.LastSpeedDvAvg)
# ,Horse.TimeDvMax=as.numeric(Horse.TimeDvMax)
# ,Horse.LastTimeDvMax=as.numeric(Horse.LastTimeDvMax)
# ,Horse.SpeedDvMax=as.numeric(Horse.SpeedDvMax)
# ,Horse.LastSpeedDvMax=as.numeric(Horse.LastSpeedDvMax)
# ,Horse.TimeDvMin=as.numeric(Horse.TimeDvMin)
# ,Horse.LastTimeDvMin=as.numeric(Horse.LastTimeDvMin)
# ,Horse.SpeedDvMin=as.numeric(Horse.SpeedDvMin)
# ,Horse.LastSpeedDvMin=as.numeric(Horse.LastSpeedDvMin)

+ Gen01.RaceId=as.factor(Gen01.RaceId)
+ Gen01.KettoNum=as.factor(Gen01.KettoNum)
+ Gen01.HansyokuNum=as.factor(Gen01.HansyokuNum)
+ Gen01.PrevRaceId=as.factor(Gen01.PrevRaceId)
+ Gen01.PrevKettoNum=as.factor(Gen01.PrevKettoNum)
+ Gen01.PrevJyoType1Cd=as.factor(Gen01.PrevJyoType1Cd)
+ Gen01.PrevRaceType1Cd=as.factor(Gen01.PrevRaceType1Cd)
+ Gen01.IsRun=as.factor(Gen01.IsRun)
+ Gen01.IsHitA=as.factor(Gen01.IsHitA)
+ Gen01.IsHitB=as.factor(Gen01.IsHitB)
+ Gen01.IsHitC=as.factor(Gen01.IsHitC)
+ Gen01.TimeDvByRace=as.numeirc(Gen01.TimeDvByRace)
+ Gen01.LastTimeDvByRace=as.numeirc(Gen01.LastTimeDvByRace)
+ Gen01.SpeedDvByRace=as.numeirc(Gen01.SpeedDvByRace)
+ Gen01.LastSpeedDvByRace=as.numeirc(Gen01.LastSpeedDvByRace)

# ,OddsByWin.Odds1=as.numeric(OddsByWin.Odds1)
# ,OddsByWin.OddsLog1=as.numeric(OddsByWin.OddsLog1)
# ,OddsByWin.OddsRatio1=as.numeric(OddsByWin.OddsRatio1)
# ,OddsByWin.OddsLogit1=as.numeric(OddsByWin.OddsLogit1)
# ,OddsByWin.ApprovalRate1=as.numeric(OddsByWin.ApprovalRate1)
# ,OddsByWin.ApprovalRateLog1=as.numeric(OddsByWin.ApprovalRateLog1)
)