[1] "2022-03-09 00:57:12 --- D1116_Predict_glm_Basic_IsHitA_Type23 Start ---"
[1] "2022-03-09 00:57:12 --- Log Start ---"
[1] "2022-03-09 00:57:12 --- predict.R Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "analyzeVersion=D1116"
[1] "analyzeCategory=Predict"
[1] "analyzeType=Basic"
[1] "analyzeFamily=IsHitA"
[1] "analyzeFunc=glm"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=3"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 00:57:12 --- source_function.R Start ---"
[1] "2022-03-09 00:57:12 --- source_function.R Finished ---"
[1] "2022-03-09 00:57:12 --- source_library.R Start ---"
[1] "2022-03-09 00:57:12 --- source_library.R Finished ---"
[1] "2022-03-09 00:57:12 --- Load Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=3"
[1] "loadFilename=RData_Analyze_glm_Basic_Type23.RData"
[1] "2022-03-09 00:57:13 --- Load Finished ---"
[1] "2022-03-09 00:57:13 --- RxSqlServerData Start ---"
[1] "2022-03-09 00:57:13 --- RxInSqlServer Start ---"
[1] "2022-03-09 00:57:13 --- RxInSqlServer Finish ---"
[1] "2022-03-09 00:57:13 --- rxSetComputeContext Start ---"
[1] "2022-03-09 00:57:13 --- rxSetComputeContext Finish ---"
[1] "2022-03-09 00:57:13 --- RxSqlServerData Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=3"
[1] "predictSqlQuery=SELECT * FROM ViewAnalyzeD1116Predict01BasicType23"
[1] "2022-03-09 00:57:13 --- RxSqlServerData Finish ---"
[1] "2022-03-09 00:57:13 --- rxGetVarInfo Start ---"
[1] "2022-03-09 00:57:13 --- rxGetVarInfo Finish---"
[1] "2022-03-09 00:57:13 --- rxImport Start ---"
Rows Read: 19249, Total Rows Processed: 19249, Total Chunk Time: 1.728 seconds 
[1] "2022-03-09 00:57:16 --- rxImport Finish ---"
[1] "object.size(InputDataSet) auto=4.5 Mb"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) RxSqlServerData=19249"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	19249 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "3": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 113 levels "23-04-1800-2",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 2 levels "2-3-13","2-3-14": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  0.855 -1.152 1.117 -0.454 -0.105 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  -0.765 0.574 -0.191 -0.574 1.913 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  -0.761 0.636 -0.204 -0.586 1.95 ...
 $ RaceHorse.HandicapSdvByRace        : num  0.5 0.5 0.5 0.5 -2 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  -0.655 1.196 -0.872 0.512 -0.498 ...
 $ RaceHorse.WeightSdv                : num  0.9668 -0.8743 1.207 -0.2339 0.0863 ...
 $ RaceHorse.WeightDeltaSdv           : num  -0.79 1.434 0.163 -0.472 3.658 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  -0.755 1.519 0.151 -0.471 3.656 ...
 $ RaceHorse.HandicapSdv              : num  0.868 0.868 0.868 0.868 -0.44 ...
 $ RaceHorse.HandicapRatioSdv         : num  -0.512 1.323 -0.728 0.645 -0.357 ...
 $ DataMining.DmTimeSdv               : num  0.439 0.222 -0.915 -0.463 0.289 ...
 $ DataMiningTaisen.TmScoreSdv        : num  0.551 -0.302 -0.9 -0.587 0.697 ...
 $ OddsByWin.Odds1                    : num  15.9 35.8 36.8 73.8 14.8 2.3 9.9 5.8 6.6 25.6 ...
 $ OddsByWin.RealOdds1                : num  19.9 44.7 46 92.2 18.5 ...
 $ OddsByWin.Ninki                    : num  7 11 12 13 5 1 4 2 3 9 ...
 $ OddsByWin.OddsLog1                 : num  2.77 3.58 3.61 4.3 2.69 ...
 $ OddsByWin.ApprovalRate1            : num  0.0503 0.0223 0.0217 0.0108 0.0541 ...
 $ OddsByWin.RealOddsLog1             : num  2.99 3.8 3.83 4.52 2.92 ...
 $ OddsByWin.RealApprovalRate1        : num  0.0629 0.0279 0.0272 0.0136 0.0676 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
[1] "2022-03-09 00:57:16 --- RxSqlServerData Finish ---"
[1] "2022-03-09 00:57:16 --- subset Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) subset before=19249"
[1] "nrow(InputDataSet) subset after=19249"
[1] "nrow(InputDataSet) subset diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "class(InputDataSet$Race.IsAnalyzeNormalPast)=logical"
[1] "class(InputDataSet$Race.analyzeTrackTypeCd)=NULL"
[1] "2022-03-09 00:57:16 --- subset Finish ---"
[1] "2022-03-09 00:57:16 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit before=19249"
[1] "nrow(InputDataSet) na.omit after=19168"
[1] "nrow(InputDataSet) na.omit diff=81"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 00:57:16 --- na.omit Finish---"
[1] "2022-03-09 00:57:16 --- New Levels Start ---"
[1] "levels(data$Race.RaceType1Cd)=2-3-13"
[2] "levels(data$Race.RaceType1Cd)=2-3-14"
[1] "levels(InputDataSet$Race.RaceType1Cd)=2-3-13"
[2] "levels(InputDataSet$Race.RaceType1Cd)=2-3-14"
[1] "length(Race.RaceType1Cd.Index)=0"
[1] "2022-03-09 00:57:16 --- New Levels Finish ---"
[1] "2022-03-09 00:57:16 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit levels before=19168"
[1] "nrow(InputDataSet) na.omit levels after=19168"
[1] "nrow(InputDataSet) na.omit levels diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 00:57:16 --- na.omit Finish ---"
[1] "2022-03-09 00:57:16 --- Predict InputDataSet Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) predict=19168"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	19168 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "3": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 113 levels "23-04-1800-2",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 2 levels "2-3-13","2-3-14": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  0.855 -1.152 1.117 -0.454 -0.105 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  -0.765 0.574 -0.191 -0.574 1.913 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  -0.761 0.636 -0.204 -0.586 1.95 ...
 $ RaceHorse.HandicapSdvByRace        : num  0.5 0.5 0.5 0.5 -2 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  -0.655 1.196 -0.872 0.512 -0.498 ...
 $ RaceHorse.WeightSdv                : num  0.9668 -0.8743 1.207 -0.2339 0.0863 ...
 $ RaceHorse.WeightDeltaSdv           : num  -0.79 1.434 0.163 -0.472 3.658 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  -0.755 1.519 0.151 -0.471 3.656 ...
 $ RaceHorse.HandicapSdv              : num  0.868 0.868 0.868 0.868 -0.44 ...
 $ RaceHorse.HandicapRatioSdv         : num  -0.512 1.323 -0.728 0.645 -0.357 ...
 $ DataMining.DmTimeSdv               : num  0.439 0.222 -0.915 -0.463 0.289 ...
 $ DataMiningTaisen.TmScoreSdv        : num  0.551 -0.302 -0.9 -0.587 0.697 ...
 $ OddsByWin.Odds1                    : num  15.9 35.8 36.8 73.8 14.8 2.3 9.9 5.8 6.6 25.6 ...
 $ OddsByWin.RealOdds1                : num  19.9 44.7 46 92.2 18.5 ...
 $ OddsByWin.Ninki                    : num  7 11 12 13 5 1 4 2 3 9 ...
 $ OddsByWin.OddsLog1                 : num  2.77 3.58 3.61 4.3 2.69 ...
 $ OddsByWin.ApprovalRate1            : num  0.0503 0.0223 0.0217 0.0108 0.0541 ...
 $ OddsByWin.RealOddsLog1             : num  2.99 3.8 3.83 4.52 2.92 ...
 $ OddsByWin.RealApprovalRate1        : num  0.0629 0.0279 0.0272 0.0136 0.0676 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "na.action")= 'omit' Named int  269 720 898 982 1398 1410 2040 2284 2911 3119 ...
  ..- attr(*, "names")= chr  "269" "720" "898" "982" ...
[1] "2022-03-09 00:57:16 --- Predict InputDataSet Finish ---"
[1] "2022-03-09 00:57:16 --- rxPredict (glm) Start ---"
[1] "analyzeFunc=glm"
Rows Read: 19168, Total Rows Processed: 19168, Total Chunk Time: 0.002 seconds 
[1] "--------------------------------------------------------------------------------"
[1] "nrow(PredictDataSet) afte predict=19168"
[1] "--------------------------------------------------------------------------------"
[1] "str(PredictDataSet)"
'data.frame':	19168 obs. of  1 variable:
 $ RaceHorse.IsHitA_Pred: num  0.05018 0.02019 0.01957 0.00883 0.0543 ...
NULL
[1] "2022-03-09 00:57:16 --- rxPredict (glm) Finish ---"
[1] "2022-03-09 00:57:16 --- add key Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) add KeyColmn=19168"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet) after add Key"
'data.frame':	19168 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "2022-03-09 00:57:16 --- add key Finish ---"
[1] "2022-03-09 00:57:16 --- add PredictValue Start ---"
[1] "str(PredictDataSet) before rename="
[1] "colnames(PredictDataSet)=RaceHorse.IsHitA_Pred"
[1] "str(PredictDataSet) after rename="
'data.frame':	19168 obs. of  1 variable:
 $ PredictValue: num  0.05018 0.02019 0.01957 0.00883 0.0543 ...
NULL
[1] "str(OutputDataSet) before cbind="
'data.frame':	19168 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "str(OutputDataSet) after cbind="
'data.frame':	19168 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.05018 0.02019 0.01957 0.00883 0.0543 ...
NULL
[1] "2022-03-09 00:57:16 --- add PredictValue Finish ---"
[1] "2022-03-09 00:57:16 --- final Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) final=19168"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet)="
'data.frame':	19168 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 1298 levels "20200801-04-02-03-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 3933 levels "2016101841","2016100279",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.05018 0.02019 0.01957 0.00883 0.0543 ...
NULL
[1] "2022-03-09 00:57:16 --- final Finish ---"
[1] "2022-03-09 00:57:16 --- predict.R Finished ---"
[1] "2022-03-09 00:57:16 --- log Finish ---"
