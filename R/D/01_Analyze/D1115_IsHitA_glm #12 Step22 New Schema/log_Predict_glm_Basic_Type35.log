[1] "2022-02-28 13:05:57 --- D1115_Predict_glm_Basic_IsHitA_Type35 Start ---"
[1] "2022-02-28 13:05:57 --- Log Start ---"
[1] "2022-02-28 13:05:57 --- predict.R Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "analyzeVersion=D1115"
[1] "analyzeCategory=Predict"
[1] "analyzeType=Basic"
[1] "analyzeFamily=IsHitA"
[1] "analyzeFunc=glm"
[1] "analyzeTrackTypeCd=3"
[1] "analyzeJyokenCd=5"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-28 13:05:57 --- source_function.R Start ---"
[1] "2022-02-28 13:05:57 --- source_function.R Finished ---"
[1] "2022-02-28 13:05:57 --- source_library.R Start ---"
[1] "2022-02-28 13:05:57 --- source_library.R Finished ---"
[1] "2022-02-28 13:05:57 --- Load Start ---"
[1] "analyzeTrackTypeCd=3"
[1] "analyzeJyokenCd=5"
[1] "loadFilename=RData_Analyze_glm_Basic_Type35.RData"
[1] "2022-02-28 13:05:57 --- Load Finished ---"
[1] "2022-02-28 13:05:57 --- RxSqlServerData Start ---"
[1] "2022-02-28 13:05:57 --- RxInSqlServer Start ---"
[1] "2022-02-28 13:05:58 --- RxInSqlServer Finish ---"
[1] "2022-02-28 13:05:58 --- rxSetComputeContext Start ---"
[1] "2022-02-28 13:05:58 --- rxSetComputeContext Finish ---"
[1] "2022-02-28 13:05:58 --- RxSqlServerData Start ---"
[1] "analyzeTrackTypeCd=3"
[1] "analyzeJyokenCd=5"
[1] "predictSqlQuery=SELECT * FROM ViewAnalyzeD1115Predict01BasicType35"
[1] "2022-02-28 13:05:58 --- RxSqlServerData Finish ---"
[1] "2022-02-28 13:05:58 --- rxGetVarInfo Start ---"
[1] "2022-02-28 13:05:58 --- rxGetVarInfo Finish---"
[1] "2022-02-28 13:05:58 --- rxImport Start ---"
Rows Read: 6497, Total Rows Processed: 6497, Total Chunk Time: 0.176 seconds 
[1] "2022-02-28 13:05:58 --- rxImport Finish ---"
[1] "object.size(InputDataSet) auto=2.3 Mb"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) RxSqlServerData=6497"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	6497 obs. of  57 variables:
 $ Race.RaceId                               : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ Race.IsAnalyzeNormalPastAndFuture         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast                  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast                    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture                  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                             : Factor w/ 1 level "5": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                           : Factor w/ 36 levels "3-06-2880-5-1",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ Race.RaceType1Cd                          : Factor w/ 1 level "3-5-X-3": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                          : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum                        : Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
 $ RaceHorse.HorseNumRatio                   : num  0.0714 0.1429 0.2143 0.2857 0.3571 ...
 $ RaceHorse.Weight                          : num  482 500 472 464 496 492 490 454 440 506 ...
 $ RaceHorse.WeightDelta                     : num  10 2 28 2 8 -4 4 12 6 12 ...
 $ RaceHorse.WeightDeltaRatio                : num  0.02075 0.004 0.05932 0.00431 0.01613 ...
 $ RaceHorse.Handicap                        : num  60 59 60 60 60 60 60 59 58 59 ...
 $ RaceHorse.HandicapRatio                   : num  0.124 0.118 0.127 0.129 0.121 ...
 $ RaceHorse.Lifetime                        : num  2802 1372 2147 2473 2117 ...
 $ RaceHorse.IsValidHorseNumRatioSdv         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatioSdv                : num  1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.IsValidWeightDeltaSdv           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaSdv                  : num  1.1365 0.0924 3.4856 0.0924 0.8755 ...
 $ RaceHorse.IsValidWeightSdv                : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightSdv                       : num  0.1597 0.3837 0.0352 -0.0644 0.3339 ...
 $ RaceHorse.IsValidWeightDeltaRatioSdv      : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaRatioSdv             : num  -0.342 -0.391 -0.229 -0.391 -0.356 ...
 $ RaceHorse.IsValidHandicapSdv              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapSdv                     : num  0.702 -0.227 0.702 0.702 0.702 ...
 $ RaceHorse.IsValidHandicapRatioSdv         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapRatioSdv                : num  0.152 -0.842 0.556 0.892 -0.387 ...
 $ RaceHorse.IsValidLifetimeSdv              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.LifetimeSdv                     : num  1.834 -1.083 0.498 1.163 0.437 ...
 $ RaceHorse.IsValidHorseNumRatioSdvByRace   : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatioSdvByRace          : num  -1.612 -1.364 -1.116 -0.868 -0.62 ...
 $ RaceHorse.IsValidWeightDeltaSdvByRace     : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaSdvByRace            : num  0.3264 -0.718 2.6762 -0.718 0.0653 ...
 $ RaceHorse.IsValidWeightSdvByRace          : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightSdvByRace                 : num  -0.00557 0.69676 -0.39576 -0.70791 0.54069 ...
 $ RaceHorse.IsValidWeightDeltaRatioSdvByRace: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaRatioSdvByRace       : num  0.3305 -0.7263 2.7646 -0.7067 0.0391 ...
 $ RaceHorse.IsValidHandicapSdvByRace        : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapSdvByRace               : num  0.798 -0.798 0.798 0.798 0.798 ...
 $ RaceHorse.IsValidHandicapRatioSdvByRace   : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapRatioSdvByRace          : num  0.116 -0.902 0.531 0.875 -0.436 ...
 $ RaceHorse.IsValidLifetimeSdvByRace        : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.LifetimeSdvByRace               : num  1.604 -1.135 0.35 0.974 0.292 ...
 $ DataMining.DmTimeSdv                      : int  0 0 0 0 0 0 0 0 0 0 ...
 $ DataMiningTaisen.TmScoreSdv               : int  0 0 0 0 0 0 0 0 0 0 ...
 $ OddsByWin.Odds1                           : num  10.3 46.4 19.4 2.5 48.1 18.6 3.2 49.5 13.9 88.1 ...
 $ OddsByWin.Ninki                           : num  4 9 7 1 10 6 2 11 5 14 ...
 $ OddsByWin.OddsLog1                        : num  2.42 3.86 3.02 1.25 3.89 ...
 $ OddsByWin.OddsRatio1                      : num  0.1075 0.022 0.0543 0.6667 0.0212 ...
 $ OddsByWin.OddsLogit1                      : num  -2.332 -3.837 -2.965 -0.916 -3.873 ...
 $ OddsByWin.ApprovalRate1                   : num  0.0971 0.0216 0.0515 0.4 0.0208 ...
 $ OddsByWin.ApprovalRateLog1                : num  0.0927 0.0213 0.0503 0.3365 0.0206 ...
 $ EOF                                       : int  1 1 1 1 1 1 1 1 1 1 ...
[1] "2022-02-28 13:05:58 --- RxSqlServerData Finish ---"
[1] "2022-02-28 13:05:58 --- subset Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) subset before=6497"
[1] "nrow(InputDataSet) subset after=6497"
[1] "nrow(InputDataSet) subset diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "class(InputDataSet$Race.IsAnalyzeNormalPast)=logical"
[1] "class(InputDataSet$Race.analyzeTrackTypeCd)=NULL"
[1] "2022-02-28 13:05:58 --- subset Finish ---"
[1] "2022-02-28 13:05:58 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit before=6497"
[1] "nrow(InputDataSet) na.omit after=6487"
[1] "nrow(InputDataSet) na.omit diff=10"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-28 13:05:58 --- na.omit Finish---"
[1] "2022-02-28 13:05:58 --- New Levels Start ---"
[1] "levels(data$Race.RaceType1Cd)=3-5-X-3"
[1] "levels(InputDataSet$Race.RaceType1Cd)=3-5-X-3"
[1] "length(Race.RaceType1Cd.Index)=0"
[1] "2022-02-28 13:05:58 --- New Levels Finish ---"
[1] "2022-02-28 13:05:58 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit levels before=6487"
[1] "nrow(InputDataSet) na.omit levels after=6487"
[1] "nrow(InputDataSet) na.omit levels diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-28 13:05:58 --- na.omit Finish ---"
[1] "2022-02-28 13:05:58 --- Predict InputDataSet Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) predict=6487"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	6487 obs. of  57 variables:
 $ Race.RaceId                               : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ Race.IsAnalyzeNormalPastAndFuture         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast                  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast                    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture                  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                             : Factor w/ 1 level "5": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                           : Factor w/ 36 levels "3-06-2880-5-1",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ Race.RaceType1Cd                          : Factor w/ 1 level "3-5-X-3": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                          : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum                        : Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
 $ RaceHorse.HorseNumRatio                   : num  0.0714 0.1429 0.2143 0.2857 0.3571 ...
 $ RaceHorse.Weight                          : num  482 500 472 464 496 492 490 454 440 506 ...
 $ RaceHorse.WeightDelta                     : num  10 2 28 2 8 -4 4 12 6 12 ...
 $ RaceHorse.WeightDeltaRatio                : num  0.02075 0.004 0.05932 0.00431 0.01613 ...
 $ RaceHorse.Handicap                        : num  60 59 60 60 60 60 60 59 58 59 ...
 $ RaceHorse.HandicapRatio                   : num  0.124 0.118 0.127 0.129 0.121 ...
 $ RaceHorse.Lifetime                        : num  2802 1372 2147 2473 2117 ...
 $ RaceHorse.IsValidHorseNumRatioSdv         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatioSdv                : num  1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.IsValidWeightDeltaSdv           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaSdv                  : num  1.1365 0.0924 3.4856 0.0924 0.8755 ...
 $ RaceHorse.IsValidWeightSdv                : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightSdv                       : num  0.1597 0.3837 0.0352 -0.0644 0.3339 ...
 $ RaceHorse.IsValidWeightDeltaRatioSdv      : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaRatioSdv             : num  -0.342 -0.391 -0.229 -0.391 -0.356 ...
 $ RaceHorse.IsValidHandicapSdv              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapSdv                     : num  0.702 -0.227 0.702 0.702 0.702 ...
 $ RaceHorse.IsValidHandicapRatioSdv         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapRatioSdv                : num  0.152 -0.842 0.556 0.892 -0.387 ...
 $ RaceHorse.IsValidLifetimeSdv              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.LifetimeSdv                     : num  1.834 -1.083 0.498 1.163 0.437 ...
 $ RaceHorse.IsValidHorseNumRatioSdvByRace   : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatioSdvByRace          : num  -1.612 -1.364 -1.116 -0.868 -0.62 ...
 $ RaceHorse.IsValidWeightDeltaSdvByRace     : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaSdvByRace            : num  0.3264 -0.718 2.6762 -0.718 0.0653 ...
 $ RaceHorse.IsValidWeightSdvByRace          : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightSdvByRace                 : num  -0.00557 0.69676 -0.39576 -0.70791 0.54069 ...
 $ RaceHorse.IsValidWeightDeltaRatioSdvByRace: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.WeightDeltaRatioSdvByRace       : num  0.3305 -0.7263 2.7646 -0.7067 0.0391 ...
 $ RaceHorse.IsValidHandicapSdvByRace        : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapSdvByRace               : num  0.798 -0.798 0.798 0.798 0.798 ...
 $ RaceHorse.IsValidHandicapRatioSdvByRace   : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HandicapRatioSdvByRace          : num  0.116 -0.902 0.531 0.875 -0.436 ...
 $ RaceHorse.IsValidLifetimeSdvByRace        : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.LifetimeSdvByRace               : num  1.604 -1.135 0.35 0.974 0.292 ...
 $ DataMining.DmTimeSdv                      : int  0 0 0 0 0 0 0 0 0 0 ...
 $ DataMiningTaisen.TmScoreSdv               : int  0 0 0 0 0 0 0 0 0 0 ...
 $ OddsByWin.Odds1                           : num  10.3 46.4 19.4 2.5 48.1 18.6 3.2 49.5 13.9 88.1 ...
 $ OddsByWin.Ninki                           : num  4 9 7 1 10 6 2 11 5 14 ...
 $ OddsByWin.OddsLog1                        : num  2.42 3.86 3.02 1.25 3.89 ...
 $ OddsByWin.OddsRatio1                      : num  0.1075 0.022 0.0543 0.6667 0.0212 ...
 $ OddsByWin.OddsLogit1                      : num  -2.332 -3.837 -2.965 -0.916 -3.873 ...
 $ OddsByWin.ApprovalRate1                   : num  0.0971 0.0216 0.0515 0.4 0.0208 ...
 $ OddsByWin.ApprovalRateLog1                : num  0.0927 0.0213 0.0503 0.3365 0.0206 ...
 $ EOF                                       : int  1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "na.action")= 'omit' Named int  98 301 522 559 624 1153 2334 3722 3727 6399
  ..- attr(*, "names")= chr  "98" "301" "522" "559" ...
[1] "2022-02-28 13:05:58 --- Predict InputDataSet Finish ---"
[1] "2022-02-28 13:05:58 --- rxPredict (glm) Start ---"
[1] "analyzeFunc=glm"
Rows Read: 6487, Total Rows Processed: 6487, Total Chunk Time: 0.001 seconds 
[1] "--------------------------------------------------------------------------------"
[1] "nrow(PredictDataSet) afte predict=6487"
[1] "--------------------------------------------------------------------------------"
[1] "str(PredictDataSet)"
'data.frame':	6487 obs. of  1 variable:
 $ RaceHorse.IsHitA_Pred: num  0.0788 0.0153 0.0256 0.335 0.0117 ...
NULL
[1] "2022-02-28 13:05:58 --- rxPredict (glm) Finish ---"
[1] "2022-02-28 13:05:58 --- add key Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) add KeyColmn=6487"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet) after add Key"
'data.frame':	6487 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum: Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
NULL
[1] "2022-02-28 13:05:59 --- add key Finish ---"
[1] "2022-02-28 13:05:59 --- add PredictValue Start ---"
[1] "str(PredictDataSet) before rename="
[1] "colnames(PredictDataSet)=RaceHorse.IsHitA_Pred"
[1] "str(PredictDataSet) after rename="
'data.frame':	6487 obs. of  1 variable:
 $ PredictValue: num  0.0788 0.0153 0.0256 0.335 0.0117 ...
NULL
[1] "str(OutputDataSet) before cbind="
'data.frame':	6487 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum: Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
NULL
[1] "str(OutputDataSet) after cbind="
'data.frame':	6487 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum: Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
 $ PredictValue      : num  0.0788 0.0153 0.0256 0.335 0.0117 ...
NULL
[1] "2022-02-28 13:05:59 --- add PredictValue Finish ---"
[1] "2022-02-28 13:05:59 --- final Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) final=6487"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet)="
'data.frame':	6487 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 521 levels "20160110-06-01-03-04",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ RaceHorse.KettoNum: Factor w/ 1919 levels "2005105204","2012105021",..: 11 12 13 14 15 16 17 18 19 20 ...
 $ PredictValue      : num  0.0788 0.0153 0.0256 0.335 0.0117 ...
NULL
[1] "2022-02-28 13:05:59 --- final Finish ---"
[1] "2022-02-28 13:05:59 --- predict.R Finished ---"
[1] "2022-02-28 13:05:59 --- log Finish ---"
