[1] "2022-02-27 15:51:25 --- D1115_Predict_glm_Basic_IsHitA_Type22 Start ---"
[1] "2022-02-27 15:51:25 --- Log Start ---"
[1] "2022-02-27 15:51:25 --- predict.R Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "analyzeVersion=D1115"
[1] "analyzeCategory=Predict"
[1] "analyzeType=Basic"
[1] "analyzeFamily=IsHitA"
[1] "analyzeFunc=glm"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-27 15:51:25 --- source_function.R Start ---"
[1] "2022-02-27 15:51:25 --- source_function.R Finished ---"
[1] "2022-02-27 15:51:25 --- source_library.R Start ---"
[1] "2022-02-27 15:51:25 --- source_library.R Finished ---"
[1] "2022-02-27 15:51:25 --- Load Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "loadFilename=RData_Analyze_glm_Basic_Type22.RData"
[1] "2022-02-27 15:51:25 --- Load Finished ---"
[1] "2022-02-27 15:51:25 --- RxSqlServerData Start ---"
[1] "2022-02-27 15:51:25 --- RxInSqlServer Start ---"
[1] "2022-02-27 15:51:25 --- RxInSqlServer Finish ---"
[1] "2022-02-27 15:51:25 --- rxSetComputeContext Start ---"
[1] "2022-02-27 15:51:25 --- rxSetComputeContext Finish ---"
[1] "2022-02-27 15:51:25 --- RxSqlServerData Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "predictSqlQuery=SELECT * FROM ViewAnalyzeD1115Predict01BasicType22"
[1] "2022-02-27 15:51:25 --- RxSqlServerData Finish ---"
[1] "2022-02-27 15:51:25 --- rxGetVarInfo Start ---"
[1] "2022-02-27 15:51:25 --- rxGetVarInfo Finish---"
[1] "2022-02-27 15:51:25 --- rxImport Start ---"
Rows Read: 7574, Total Rows Processed: 7574, Total Chunk Time: 1.586 seconds 
[1] "2022-02-27 15:51:29 --- rxImport Finish ---"
[1] "object.size(InputDataSet) auto=1.4 Mb"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) RxSqlServerData=7574"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	7574 obs. of  28 variables:
 $ Race.RaceId                      : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture       : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                    : Factor w/ 1 level "2": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                  : Factor w/ 82 levels "2-08-1900-2-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                 : Factor w/ 3 levels "2-2-E-2","2-2-E-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                 : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum               : Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.UmabanSdv              : num  -1.376 -1.147 -0.918 -0.688 -0.459 ...
 $ RaceHorse.BareiSdv               : num  0.618 1.476 0.618 -0.239 0.618 ...
 $ RaceHorse.BataijyuSdv            : num  0.752 -0.506 0.595 0.988 0.437 ...
 $ RaceHorse.FutanSdv               : num  0.784 0.784 0.784 0.784 0.784 ...
 $ RaceHorse.LifetimeSdv            : num  0.308 1.263 0.146 -0.591 0.16 ...
 $ RaceHorse.FutanRatioSdv          : num  -0.21965 0.69826 -0.11121 -0.37917 -0.00105 ...
 $ DataMining.DmTimeSdv             : num  0.578 -1.285 -0.834 -1.129 0.95 ...
 $ DataMiningTaisen.TmScoreSdv      : num  0.681 -1.371 -1.01 -0.577 0.907 ...
 $ OddsByWin.Odds1                  : num  4.6 49.2 NA 22.3 12.3 8.6 36.1 11.1 1.9 65.6 ...
 $ OddsByWin.Ninki                  : num  2 9 NA 7 6 4 8 5 1 10 ...
 $ OddsByWin.OddsLog1               : num  1.72 3.92 NA 3.15 2.59 ...
 $ OddsByWin.OddsRatio1             : num  0.2778 0.0207 NA 0.0469 0.0885 ...
 $ OddsByWin.OddsLogit1             : num  -1.53 -3.9 NA -3.1 -2.51 ...
 $ OddsByWin.ApprovalRate1          : num  0.2174 0.0203 NA 0.0448 0.0813 ...
 $ OddsByWin.ApprovalRateLog1       : num  0.1967 0.0201 NA 0.0439 0.0782 ...
 $ EOF                              : int  1 1 1 1 1 1 1 1 1 1 ...
[1] "2022-02-27 15:51:29 --- RxSqlServerData Finish ---"
[1] "2022-02-27 15:51:29 --- subset Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) subset before=7574"
[1] "nrow(InputDataSet) subset after=7574"
[1] "nrow(InputDataSet) subset diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "class(InputDataSet$Race.IsAnalyzeNormalPast)=logical"
[1] "class(InputDataSet$Race.analyzeTrackTypeCd)=NULL"
[1] "2022-02-27 15:51:29 --- subset Finish ---"
[1] "2022-02-27 15:51:29 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit before=7574"
[1] "nrow(InputDataSet) na.omit after=7545"
[1] "nrow(InputDataSet) na.omit diff=29"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-27 15:51:29 --- na.omit Finish---"
[1] "2022-02-27 15:51:29 --- New Levels Start ---"
[1] "levels(data$Race.RaceType1Cd)=2-2-E-1"
[2] "levels(data$Race.RaceType1Cd)=2-2-E-2"
[1] "levels(InputDataSet$Race.RaceType1Cd)=2-2-E-2"
[2] "levels(InputDataSet$Race.RaceType1Cd)=2-2-E-1"
[3] "levels(InputDataSet$Race.RaceType1Cd)=2-2-X-1"
[1] "length(Race.RaceType1Cd.Index)=31"
[1] "2022-02-27 15:51:29 --- New Levels Finish ---"
[1] "2022-02-27 15:51:29 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit levels before=7545"
[1] "nrow(InputDataSet) na.omit levels after=7514"
[1] "nrow(InputDataSet) na.omit levels diff=31"
[1] "--------------------------------------------------------------------------------"
[1] "2022-02-27 15:51:29 --- na.omit Finish ---"
[1] "2022-02-27 15:51:29 --- Predict InputDataSet Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) predict=7514"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	7514 obs. of  28 variables:
 $ Race.RaceId                      : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture       : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                    : Factor w/ 1 level "2": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                  : Factor w/ 82 levels "2-08-1900-2-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                 : Factor w/ 3 levels "2-2-E-2","2-2-E-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                 : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum               : Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 4 5 6 7 8 9 10 11 ...
 $ RaceHorse.UmabanSdv              : num  -1.376 -1.147 -0.688 -0.459 -0.229 ...
 $ RaceHorse.BareiSdv               : num  0.618 1.476 -0.239 0.618 -1.096 ...
 $ RaceHorse.BataijyuSdv            : num  0.752 -0.506 0.988 0.437 -1.764 ...
 $ RaceHorse.FutanSdv               : num  0.784 0.784 0.784 0.784 0.169 ...
 $ RaceHorse.LifetimeSdv            : num  0.308 1.263 -0.591 0.16 -1.534 ...
 $ RaceHorse.FutanRatioSdv          : num  -0.21965 0.69826 -0.37917 -0.00105 1.46965 ...
 $ DataMining.DmTimeSdv             : num  0.578 -1.285 -1.129 0.95 0.421 ...
 $ DataMiningTaisen.TmScoreSdv      : num  0.681 -1.371 -0.577 0.907 0.191 ...
 $ OddsByWin.Odds1                  : num  4.6 49.2 22.3 12.3 8.6 36.1 11.1 1.9 65.6 8.5 ...
 $ OddsByWin.Ninki                  : num  2 9 7 6 4 8 5 1 10 3 ...
 $ OddsByWin.OddsLog1               : num  1.72 3.92 3.15 2.59 2.26 ...
 $ OddsByWin.OddsRatio1             : num  0.2778 0.0207 0.0469 0.0885 0.1316 ...
 $ OddsByWin.OddsLogit1             : num  -1.53 -3.9 -3.1 -2.51 -2.15 ...
 $ OddsByWin.ApprovalRate1          : num  0.2174 0.0203 0.0448 0.0813 0.1163 ...
 $ OddsByWin.ApprovalRateLog1       : num  0.1967 0.0201 0.0439 0.0782 0.11 ...
 $ EOF                              : int  1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "na.action")= 'omit' Named int  5815 5816 5817 5818 5819 5820 5821 5822 5823 5824 ...
  ..- attr(*, "names")= chr  "5840" "5841" "5842" "5843" ...
[1] "2022-02-27 15:51:29 --- Predict InputDataSet Finish ---"
[1] "2022-02-27 15:51:29 --- rxPredict (glm) Start ---"
[1] "analyzeFunc=glm"
Rows Read: 7514, Total Rows Processed: 7514, Total Chunk Time: Less than .001 seconds 
[1] "--------------------------------------------------------------------------------"
[1] "nrow(PredictDataSet) afte predict=7514"
[1] "--------------------------------------------------------------------------------"
[1] "str(PredictDataSet)"
'data.frame':	7514 obs. of  1 variable:
 $ RaceHorse.IsHitA_Pred: num  0.17281 0.00966 0.02626 0.07909 0.09319 ...
NULL
[1] "2022-02-27 15:51:29 --- rxPredict (glm) Finish ---"
[1] "2022-02-27 15:51:29 --- add key Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) add KeyColmn=7514"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet) after add Key"
'data.frame':	7514 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 4 5 6 7 8 9 10 11 ...
NULL
[1] "2022-02-27 15:51:29 --- add key Finish ---"
[1] "2022-02-27 15:51:29 --- add PredictValue Start ---"
[1] "str(PredictDataSet) before rename="
[1] "colnames(PredictDataSet)=RaceHorse.IsHitA_Pred"
[1] "str(PredictDataSet) after rename="
'data.frame':	7514 obs. of  1 variable:
 $ PredictValue: num  0.17281 0.00966 0.02626 0.07909 0.09319 ...
NULL
[1] "str(OutputDataSet) before cbind="
'data.frame':	7514 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 4 5 6 7 8 9 10 11 ...
NULL
[1] "str(OutputDataSet) after cbind="
'data.frame':	7514 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 4 5 6 7 8 9 10 11 ...
 $ PredictValue      : num  0.17281 0.00966 0.02626 0.07909 0.09319 ...
NULL
[1] "2022-02-27 15:51:29 --- add PredictValue Finish ---"
[1] "2022-02-27 15:51:29 --- final Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) final=7514"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet)="
'data.frame':	7514 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 516 levels "20160105-08-01-01-09",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1538 levels "2010100540","2009106416",..: 1 2 4 5 6 7 8 9 10 11 ...
 $ PredictValue      : num  0.17281 0.00966 0.02626 0.07909 0.09319 ...
NULL
[1] "2022-02-27 15:51:29 --- final Finish ---"
[1] "2022-02-27 15:51:29 --- predict.R Finished ---"
[1] "2022-02-27 15:51:29 --- log Finish ---"
