[1] "2022-03-09 05:36:29 --- D1115_Predict_glm_Basic_IsHitA_Type24 Start ---"
[1] "2022-03-09 05:36:29 --- Log Start ---"
[1] "2022-03-09 05:36:29 --- predict.R Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "analyzeVersion=D1115"
[1] "analyzeCategory=Predict"
[1] "analyzeType=Basic"
[1] "analyzeFamily=IsHitA"
[1] "analyzeFunc=glm"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=4"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:29 --- source_function.R Start ---"
[1] "2022-03-09 05:36:29 --- source_function.R Finished ---"
[1] "2022-03-09 05:36:29 --- source_library.R Start ---"
[1] "2022-03-09 05:36:29 --- source_library.R Finished ---"
[1] "2022-03-09 05:36:29 --- Load Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=4"
[1] "loadFilename=RData_Analyze_glm_Basic_Type24.RData"
[1] "2022-03-09 05:36:29 --- Load Finished ---"
[1] "2022-03-09 05:36:29 --- RxSqlServerData Start ---"
[1] "2022-03-09 05:36:29 --- RxInSqlServer Start ---"
[1] "2022-03-09 05:36:29 --- RxInSqlServer Finish ---"
[1] "2022-03-09 05:36:29 --- rxSetComputeContext Start ---"
[1] "2022-03-09 05:36:29 --- rxSetComputeContext Finish ---"
[1] "2022-03-09 05:36:29 --- RxSqlServerData Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=4"
[1] "predictSqlQuery=SELECT * FROM ViewAnalyzeD1115Predict01BasicType24"
[1] "2022-03-09 05:36:29 --- RxSqlServerData Finish ---"
[1] "2022-03-09 05:36:29 --- rxGetVarInfo Start ---"
[1] "2022-03-09 05:36:30 --- rxGetVarInfo Finish---"
[1] "2022-03-09 05:36:30 --- rxImport Start ---"
Rows Read: 48304, Total Rows Processed: 48304, Total Chunk Time: 1.864 seconds 
[1] "2022-03-09 05:36:33 --- rxImport Finish ---"
[1] "object.size(InputDataSet) auto=11.2 Mb"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) RxSqlServerData=48304"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	48304 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "4": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 134 levels "23-04-1800-2",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 4 levels "2-4-13","2-4-14",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  -0.347 -0.213 1.986 -1.413 -0.413 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  1.718 -0.565 2.044 -0.239 -1.544 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  1.831 -0.569 1.83 -0.202 -1.602 ...
 $ RaceHorse.HandicapSdvByRace        : num  1.5056 1.5056 -0.0342 -2.6007 -0.0342 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  1.221 1.076 -1.835 -0.205 0.352 ...
 $ RaceHorse.WeightSdv                : num  0.38 0.531 3.023 -0.828 0.305 ...
 $ RaceHorse.WeightDeltaSdv           : num  1.936 -0.158 2.235 0.141 -1.056 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  1.901 -0.152 1.9 0.162 -1.036 ...
 $ RaceHorse.HandicapSdv              : num  1.181 1.181 -0.497 -3.292 -0.497 ...
 $ RaceHorse.HandicapRatioSdv         : num  0.259 0.111 -2.86 -1.197 -0.627 ...
 $ DataMining.DmTimeSdv               : num  0.688 -0.281 0.43 0.365 1.642 ...
 $ DataMiningTaisen.TmScoreSdv        : num  0.944 -0.229 -0.79 -0.186 1.2 ...
 $ OddsByWin.Odds1                    : num  69.2 67.2 7 26.2 7.7 ...
 $ OddsByWin.RealOdds1                : num  86.5 84 8.75 32.75 9.62 ...
 $ OddsByWin.Ninki                    : num  11 10 3 9 4 8 15 1 6 7 ...
 $ OddsByWin.OddsLog1                 : num  4.24 4.21 1.95 3.27 2.04 ...
 $ OddsByWin.ApprovalRate1            : num  0.0116 0.0119 0.1143 0.0305 0.1039 ...
 $ OddsByWin.RealOddsLog1             : num  4.46 4.43 2.17 3.49 2.26 ...
 $ OddsByWin.RealApprovalRate1        : num  0.0145 0.0149 0.1429 0.0382 0.1299 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
[1] "2022-03-09 05:36:33 --- RxSqlServerData Finish ---"
[1] "2022-03-09 05:36:33 --- subset Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) subset before=48304"
[1] "nrow(InputDataSet) subset after=48304"
[1] "nrow(InputDataSet) subset diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "class(InputDataSet$Race.IsAnalyzeNormalPast)=logical"
[1] "class(InputDataSet$Race.analyzeTrackTypeCd)=NULL"
[1] "2022-03-09 05:36:33 --- subset Finish ---"
[1] "2022-03-09 05:36:33 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit before=48304"
[1] "nrow(InputDataSet) na.omit after=48128"
[1] "nrow(InputDataSet) na.omit diff=176"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:33 --- na.omit Finish---"
[1] "2022-03-09 05:36:33 --- New Levels Start ---"
[1] "levels(data$Race.RaceType1Cd)=2-4-13"
[2] "levels(data$Race.RaceType1Cd)=2-4-14"
[3] "levels(data$Race.RaceType1Cd)=2-4-12"
[4] "levels(data$Race.RaceType1Cd)=2-4-11"
[1] "levels(InputDataSet$Race.RaceType1Cd)=2-4-13"
[2] "levels(InputDataSet$Race.RaceType1Cd)=2-4-14"
[3] "levels(InputDataSet$Race.RaceType1Cd)=2-4-12"
[4] "levels(InputDataSet$Race.RaceType1Cd)=2-4-11"
[1] "length(Race.RaceType1Cd.Index)=0"
[1] "2022-03-09 05:36:33 --- New Levels Finish ---"
[1] "2022-03-09 05:36:33 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit levels before=48128"
[1] "nrow(InputDataSet) na.omit levels after=48128"
[1] "nrow(InputDataSet) na.omit levels diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:33 --- na.omit Finish ---"
[1] "2022-03-09 05:36:33 --- Predict InputDataSet Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) predict=48128"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	48128 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "4": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 134 levels "23-04-1800-2",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 4 levels "2-4-13","2-4-14",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  -0.347 -0.213 1.986 -1.413 -0.413 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  1.718 -0.565 2.044 -0.239 -1.544 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  1.831 -0.569 1.83 -0.202 -1.602 ...
 $ RaceHorse.HandicapSdvByRace        : num  1.5056 1.5056 -0.0342 -2.6007 -0.0342 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  1.221 1.076 -1.835 -0.205 0.352 ...
 $ RaceHorse.WeightSdv                : num  0.38 0.531 3.023 -0.828 0.305 ...
 $ RaceHorse.WeightDeltaSdv           : num  1.936 -0.158 2.235 0.141 -1.056 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  1.901 -0.152 1.9 0.162 -1.036 ...
 $ RaceHorse.HandicapSdv              : num  1.181 1.181 -0.497 -3.292 -0.497 ...
 $ RaceHorse.HandicapRatioSdv         : num  0.259 0.111 -2.86 -1.197 -0.627 ...
 $ DataMining.DmTimeSdv               : num  0.688 -0.281 0.43 0.365 1.642 ...
 $ DataMiningTaisen.TmScoreSdv        : num  0.944 -0.229 -0.79 -0.186 1.2 ...
 $ OddsByWin.Odds1                    : num  69.2 67.2 7 26.2 7.7 ...
 $ OddsByWin.RealOdds1                : num  86.5 84 8.75 32.75 9.62 ...
 $ OddsByWin.Ninki                    : num  11 10 3 9 4 8 15 1 6 7 ...
 $ OddsByWin.OddsLog1                 : num  4.24 4.21 1.95 3.27 2.04 ...
 $ OddsByWin.ApprovalRate1            : num  0.0116 0.0119 0.1143 0.0305 0.1039 ...
 $ OddsByWin.RealOddsLog1             : num  4.46 4.43 2.17 3.49 2.26 ...
 $ OddsByWin.RealApprovalRate1        : num  0.0145 0.0149 0.1429 0.0382 0.1299 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "na.action")= 'omit' Named int  684 1049 1179 1322 1681 1736 1957 2180 2227 2228 ...
  ..- attr(*, "names")= chr  "684" "1049" "1179" "1322" ...
[1] "2022-03-09 05:36:33 --- Predict InputDataSet Finish ---"
[1] "2022-03-09 05:36:33 --- rxPredict (glm) Start ---"
[1] "analyzeFunc=glm"
Rows Read: 48128, Total Rows Processed: 48128, Total Chunk Time: 0.005 seconds 
[1] "--------------------------------------------------------------------------------"
[1] "nrow(PredictDataSet) afte predict=48128"
[1] "--------------------------------------------------------------------------------"
[1] "str(PredictDataSet)"
'data.frame':	48128 obs. of  1 variable:
 $ RaceHorse.IsHitA_Pred: num  0.00795 0.00909 0.14085 0.02901 0.103 ...
NULL
[1] "2022-03-09 05:36:33 --- rxPredict (glm) Finish ---"
[1] "2022-03-09 05:36:33 --- add key Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) add KeyColmn=48128"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet) after add Key"
'data.frame':	48128 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "2022-03-09 05:36:33 --- add key Finish ---"
[1] "2022-03-09 05:36:33 --- add PredictValue Start ---"
[1] "str(PredictDataSet) before rename="
[1] "colnames(PredictDataSet)=RaceHorse.IsHitA_Pred"
[1] "str(PredictDataSet) after rename="
'data.frame':	48128 obs. of  1 variable:
 $ PredictValue: num  0.00795 0.00909 0.14085 0.02901 0.103 ...
NULL
[1] "str(OutputDataSet) before cbind="
'data.frame':	48128 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "str(OutputDataSet) after cbind="
'data.frame':	48128 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.00795 0.00909 0.14085 0.02901 0.103 ...
NULL
[1] "2022-03-09 05:36:33 --- add PredictValue Finish ---"
[1] "2022-03-09 05:36:33 --- final Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) final=48128"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet)="
'data.frame':	48128 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 3456 levels "20200801-04-02-03-07",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 9699 levels "2016101699","2015106040",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.00795 0.00909 0.14085 0.02901 0.103 ...
NULL
[1] "2022-03-09 05:36:33 --- final Finish ---"
[1] "2022-03-09 05:36:33 --- predict.R Finished ---"
[1] "2022-03-09 05:36:33 --- log Finish ---"
