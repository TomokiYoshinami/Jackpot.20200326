[1] "2022-03-09 05:36:20 --- D1115_Predict_glm_Basic_IsHitA_Type22 Start ---"
[1] "2022-03-09 05:36:20 --- Log Start ---"
[1] "2022-03-09 05:36:20 --- predict.R Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "analyzeVersion=D1115"
[1] "analyzeCategory=Predict"
[1] "analyzeType=Basic"
[1] "analyzeFamily=IsHitA"
[1] "analyzeFunc=glm"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:20 --- source_function.R Start ---"
[1] "2022-03-09 05:36:20 --- source_function.R Finished ---"
[1] "2022-03-09 05:36:20 --- source_library.R Start ---"
[1] "2022-03-09 05:36:20 --- source_library.R Finished ---"
[1] "2022-03-09 05:36:20 --- Load Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "loadFilename=RData_Analyze_glm_Basic_Type22.RData"
[1] "2022-03-09 05:36:21 --- Load Finished ---"
[1] "2022-03-09 05:36:21 --- RxSqlServerData Start ---"
[1] "2022-03-09 05:36:21 --- RxInSqlServer Start ---"
[1] "2022-03-09 05:36:21 --- RxInSqlServer Finish ---"
[1] "2022-03-09 05:36:21 --- rxSetComputeContext Start ---"
[1] "2022-03-09 05:36:21 --- rxSetComputeContext Finish ---"
[1] "2022-03-09 05:36:21 --- RxSqlServerData Start ---"
[1] "analyzeTrackTypeCd=2"
[1] "analyzeJyokenCd=2"
[1] "predictSqlQuery=SELECT * FROM ViewAnalyzeD1115Predict01BasicType22"
[1] "2022-03-09 05:36:21 --- RxSqlServerData Finish ---"
[1] "2022-03-09 05:36:21 --- rxGetVarInfo Start ---"
[1] "2022-03-09 05:36:21 --- rxGetVarInfo Finish---"
[1] "2022-03-09 05:36:21 --- rxImport Start ---"
Rows Read: 7606, Total Rows Processed: 7606, Total Chunk Time: 1.273 seconds 
[1] "2022-03-09 05:36:23 --- rxImport Finish ---"
[1] "object.size(InputDataSet) auto=1.8 Mb"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) RxSqlServerData=7606"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	7606 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "2": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 82 levels "23-04-1800-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 2 levels "2-2-13","2-2-14": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE FALSE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  0.744 0.285 1.05 2.274 -0.862 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  0.0635 -1.3642 0.7773 2.205 0.0635 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  0.0761 -1.3789 0.7742 2.0364 0.1183 ...
 $ RaceHorse.HandicapSdvByRace        : num  0.603 0.603 0.603 0.603 0.603 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  -0.619 -0.159 -0.914 -2.008 1.092 ...
 $ RaceHorse.WeightSdv                : num  1.056 0.571 1.379 2.671 -0.64 ...
 $ RaceHorse.WeightDeltaSdv           : num  0.543 -1.494 1.562 3.599 0.543 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  0.514 -1.453 1.458 3.165 0.571 ...
 $ RaceHorse.HandicapSdv              : num  0.799 0.799 0.799 0.799 0.799 ...
 $ RaceHorse.HandicapRatioSdv         : num  -0.59 -0.159 -0.866 -1.891 1.012 ...
 $ DataMining.DmTimeSdv               : num  -0.748 -0.198 -0.539 1.743 -0.434 ...
 $ DataMiningTaisen.TmScoreSdv        : num  1.905 -0.411 -0.686 -0.426 -0.367 ...
 $ OddsByWin.Odds1                    : num  25 20.8 97.1 10.5 40.1 65.7 32.5 9.4 17 6.7 ...
 $ OddsByWin.RealOdds1                : num  31.2 26 121.4 13.1 50.1 ...
 $ OddsByWin.Ninki                    : num  9 8 15 5 12 13 11 4 6 3 ...
 $ OddsByWin.OddsLog1                 : num  3.22 3.03 4.58 2.35 3.69 ...
 $ OddsByWin.ApprovalRate1            : num  0.032 0.03846 0.00824 0.07619 0.01995 ...
 $ OddsByWin.RealOddsLog1             : num  3.44 3.26 4.8 2.57 3.91 ...
 $ OddsByWin.RealApprovalRate1        : num  0.04 0.0481 0.0103 0.0952 0.0249 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
[1] "2022-03-09 05:36:23 --- RxSqlServerData Finish ---"
[1] "2022-03-09 05:36:23 --- subset Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) subset before=7606"
[1] "nrow(InputDataSet) subset after=7606"
[1] "nrow(InputDataSet) subset diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "class(InputDataSet$Race.IsAnalyzeNormalPast)=logical"
[1] "class(InputDataSet$Race.analyzeTrackTypeCd)=NULL"
[1] "2022-03-09 05:36:23 --- subset Finish ---"
[1] "2022-03-09 05:36:23 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit before=7606"
[1] "nrow(InputDataSet) na.omit after=7577"
[1] "nrow(InputDataSet) na.omit diff=29"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:23 --- na.omit Finish---"
[1] "2022-03-09 05:36:23 --- New Levels Start ---"
[1] "levels(data$Race.RaceType1Cd)=2-2-13"
[2] "levels(data$Race.RaceType1Cd)=2-2-14"
[1] "levels(InputDataSet$Race.RaceType1Cd)=2-2-13"
[2] "levels(InputDataSet$Race.RaceType1Cd)=2-2-14"
[1] "length(Race.RaceType1Cd.Index)=0"
[1] "2022-03-09 05:36:23 --- New Levels Finish ---"
[1] "2022-03-09 05:36:23 --- na.omit Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) na.omit levels before=7577"
[1] "nrow(InputDataSet) na.omit levels after=7577"
[1] "nrow(InputDataSet) na.omit levels diff=0"
[1] "--------------------------------------------------------------------------------"
[1] "2022-03-09 05:36:23 --- na.omit Finish ---"
[1] "2022-03-09 05:36:23 --- Predict InputDataSet Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(InputDataSet) predict=7577"
[1] "--------------------------------------------------------------------------------"
[1] "str(InputDataSet)="
'data.frame':	7577 obs. of  34 variables:
 $ Race.RaceId                        : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.IsAnalyzeNormalPastAndFuture  : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalPast           : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeNormalFuture         : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.IsAnalyzeFullPastAndFuture    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullPast             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
 $ Race.IsAnalyzeFullFuture           : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ Race.JyokenCd                      : Factor w/ 1 level "2": 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.JyoType1Cd                    : Factor w/ 82 levels "23-04-1800-1",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Race.RaceType1Cd                   : Factor w/ 2 levels "2-2-13","2-2-14": 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.RaceId                   : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum                 : Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ RaceHorse.IsValidRaceHorse         : logi  TRUE TRUE TRUE TRUE TRUE FALSE ...
 $ RaceHorse.HorseNumRatio            : num  0.0667 0.1333 0.2 0.2667 0.3333 ...
 $ RaceHorse.WeightSdvByRace          : num  0.744 0.285 1.05 2.274 -0.862 ...
 $ RaceHorse.WeightDeltaSdvByRace     : num  0.0635 -1.3642 0.7773 2.205 0.0635 ...
 $ RaceHorse.WeightDeltaRatioSdvByRace: num  0.0761 -1.3789 0.7742 2.0364 0.1183 ...
 $ RaceHorse.HandicapSdvByRace        : num  0.603 0.603 0.603 0.603 0.603 ...
 $ RaceHorse.HandicapRatioSdvByRace   : num  -0.619 -0.159 -0.914 -2.008 1.092 ...
 $ RaceHorse.WeightSdv                : num  1.056 0.571 1.379 2.671 -0.64 ...
 $ RaceHorse.WeightDeltaSdv           : num  0.543 -1.494 1.562 3.599 0.543 ...
 $ RaceHorse.WeightDeltaRatioSdv      : num  0.514 -1.453 1.458 3.165 0.571 ...
 $ RaceHorse.HandicapSdv              : num  0.799 0.799 0.799 0.799 0.799 ...
 $ RaceHorse.HandicapRatioSdv         : num  -0.59 -0.159 -0.866 -1.891 1.012 ...
 $ DataMining.DmTimeSdv               : num  -0.748 -0.198 -0.539 1.743 -0.434 ...
 $ DataMiningTaisen.TmScoreSdv        : num  1.905 -0.411 -0.686 -0.426 -0.367 ...
 $ OddsByWin.Odds1                    : num  25 20.8 97.1 10.5 40.1 65.7 32.5 9.4 17 6.7 ...
 $ OddsByWin.RealOdds1                : num  31.2 26 121.4 13.1 50.1 ...
 $ OddsByWin.Ninki                    : num  9 8 15 5 12 13 11 4 6 3 ...
 $ OddsByWin.OddsLog1                 : num  3.22 3.03 4.58 2.35 3.69 ...
 $ OddsByWin.ApprovalRate1            : num  0.032 0.03846 0.00824 0.07619 0.01995 ...
 $ OddsByWin.RealOddsLog1             : num  3.44 3.26 4.8 2.57 3.91 ...
 $ OddsByWin.RealApprovalRate1        : num  0.04 0.0481 0.0103 0.0952 0.0249 ...
 $ EOF                                : int  1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "na.action")= 'omit' Named int  146 199 232 349 576 1449 1510 1552 1605 1774 ...
  ..- attr(*, "names")= chr  "146" "199" "232" "349" ...
[1] "2022-03-09 05:36:24 --- Predict InputDataSet Finish ---"
[1] "2022-03-09 05:36:24 --- rxPredict (glm) Start ---"
[1] "analyzeFunc=glm"
Rows Read: 7577, Total Rows Processed: 7577, Total Chunk Time: Less than .001 seconds 
[1] "--------------------------------------------------------------------------------"
[1] "nrow(PredictDataSet) afte predict=7577"
[1] "--------------------------------------------------------------------------------"
[1] "str(PredictDataSet)"
'data.frame':	7577 obs. of  1 variable:
 $ RaceHorse.IsHitA_Pred: num  0.04265 0.03734 0.00587 0.05501 0.01675 ...
NULL
[1] "2022-03-09 05:36:24 --- rxPredict (glm) Finish ---"
[1] "2022-03-09 05:36:24 --- add key Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) add KeyColmn=7577"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet) after add Key"
'data.frame':	7577 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "2022-03-09 05:36:24 --- add key Finish ---"
[1] "2022-03-09 05:36:24 --- add PredictValue Start ---"
[1] "str(PredictDataSet) before rename="
[1] "colnames(PredictDataSet)=RaceHorse.IsHitA_Pred"
[1] "str(PredictDataSet) after rename="
'data.frame':	7577 obs. of  1 variable:
 $ PredictValue: num  0.04265 0.03734 0.00587 0.05501 0.01675 ...
NULL
[1] "str(OutputDataSet) before cbind="
'data.frame':	7577 obs. of  2 variables:
 $ RaceHorse.RaceId  : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
NULL
[1] "str(OutputDataSet) after cbind="
'data.frame':	7577 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.04265 0.03734 0.00587 0.05501 0.01675 ...
NULL
[1] "2022-03-09 05:36:24 --- add PredictValue Finish ---"
[1] "2022-03-09 05:36:24 --- final Start ---"
[1] "--------------------------------------------------------------------------------"
[1] "nrow(OutputDataSet) final=7577"
[1] "--------------------------------------------------------------------------------"
[1] "str(OutputDataSet)="
'data.frame':	7577 obs. of  3 variables:
 $ RaceHorse.RaceId  : Factor w/ 518 levels "20200802-04-02-04-10",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ RaceHorse.KettoNum: Factor w/ 1546 levels "2014104506","2014105947",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ PredictValue      : num  0.04265 0.03734 0.00587 0.05501 0.01675 ...
NULL
[1] "2022-03-09 05:36:24 --- final Finish ---"
[1] "2022-03-09 05:36:24 --- predict.R Finished ---"
[1] "2022-03-09 05:36:24 --- log Finish ---"
